<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>@mikesaintsg/filesystem Showcase</title>
  <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(a){if(a.ep)return;a.ep=!0;const n=t(a);fetch(a.href,n)}})();class y extends Error{code;path;cause;constructor(e,t,i,a){super(t),this.name="FileSystemError",this.code=e,i!==void 0&&(this.path=i),a!==void 0&&(this.cause=a)}}class S extends y{constructor(e,t){super("NOT_FOUND",e?`Entry not found: ${e}`:"Entry not found",e,t),this.name="NotFoundError"}}class B extends y{constructor(e,t,i){super("NOT_ALLOWED",e??"Permission denied",t,i),this.name="NotAllowedError"}}class L extends y{constructor(e,t,i){super("TYPE_MISMATCH",`Expected ${e} but got ${e==="file"?"directory":"file"}`,t,i),this.name="TypeMismatchError"}}class X extends y{constructor(e,t){super("NO_MODIFICATION_ALLOWED","Modification not allowed",e,t),this.name="NoModificationAllowedError"}}class Q extends y{constructor(e,t,i){super("INVALID_STATE",e??"Invalid state",t,i),this.name="InvalidStateError"}}class z extends y{constructor(e,t){super("QUOTA_EXCEEDED","Storage quota exceeded",e,t),this.name="QuotaExceededError"}}class P extends y{constructor(e,t){super("ABORT",e??"Operation aborted",void 0,t),this.name="AbortError"}}class G extends y{constructor(e,t,i){super("SECURITY",e??"Security error",t,i),this.name="SecurityError"}}class Y extends y{constructor(e,t,i){super("ENCODING",e??"Encoding error",t,i),this.name="EncodingError"}}class E extends y{constructor(e,t){super("NOT_SUPPORTED",e?`Not supported: ${e}`:"Feature not supported",void 0,t),this.name="NotSupportedError"}}function o(r,e){if(r instanceof y)return r;if(r instanceof DOMException)switch(r.name){case"NotFoundError":return new S(e,r);case"NotAllowedError":return new B(r.message,e,r);case"TypeMismatchError":return new L("file",e,r);case"NoModificationAllowedError":return new X(e,r);case"InvalidStateError":return new Q(r.message,e,r);case"QuotaExceededError":return new z(e,r);case"AbortError":return new P(r.message,r);case"SecurityError":return new G(r.message,e,r);case"EncodingError":return new Y(r.message,e,r);case"NotSupportedError":return new E(r.message,r);default:return new y("NOT_SUPPORTED",r.message,e,r)}return r instanceof Error?new y("NOT_SUPPORTED",r.message,e,r):new y("NOT_SUPPORTED",String(r),e)}function Z(r){return r instanceof S}function K(r){return r instanceof B}function V(r){return r instanceof z}function M(r){return r instanceof P}function R(){return typeof navigator<"u"&&typeof navigator.storage<"u"&&typeof navigator.storage.getDirectory=="function"}function W(){return typeof window<"u"&&"showOpenFilePicker"in window&&typeof window.showOpenFilePicker=="function"}function D(r){if(r===0)return"0 B";const e=["B","KB","MB","GB","TB"],t=Math.floor(Math.log(r)/Math.log(1024));return`${(r/Math.pow(1024,t)).toFixed(t===0?0:1)} ${e[t]}`}class J{#e;constructor(e){this.#e=e}get native(){return this.#e}async write(e){try{if(e instanceof ReadableStream){const t=e.getReader();for(;;){const{done:i,value:a}=await t.read();if(i)break;const n=new Uint8Array(a);await this.#e.write(n.buffer)}}else await this.#e.write(e)}catch(t){throw o(t)}}async seek(e){try{await this.#e.seek(e)}catch(t){throw o(t)}}async truncate(e){try{await this.#e.truncate(e)}catch(t){throw o(t)}}async close(){try{await this.#e.close()}catch(e){throw o(e)}}async abort(){try{await this.#e.abort()}catch(e){throw o(e)}}}async function q(r,e){if(e instanceof ReadableStream){const t=e.getReader();for(;;){const{done:i,value:a}=await t.read();if(i)break;const n=new Uint8Array(a);await r.write(n.buffer)}}else await r.write(e)}let k=class{#e;constructor(e){this.#e=e}get native(){return this.#e}getName(){return this.#e.name}async getMetadata(){try{const e=await this.#e.getFile();return{name:e.name,size:e.size,type:e.type,lastModified:e.lastModified}}catch(e){throw o(e,this.#e.name)}}async getText(){try{return(await this.#e.getFile()).text()}catch(e){throw o(e,this.#e.name)}}async getArrayBuffer(){try{return(await this.#e.getFile()).arrayBuffer()}catch(e){throw o(e,this.#e.name)}}async getBlob(){try{return this.#e.getFile()}catch(e){throw o(e,this.#e.name)}}getStream(){const e=this.#e;return new ReadableStream({async start(t){try{const a=(await e.getFile()).stream().getReader();for(;;){const{done:n,value:c}=await a.read();if(n){t.close();break}t.enqueue(c)}}catch(i){t.error(o(i))}}})}async write(e,t){try{const i=await this.#e.createWritable({keepExistingData:t?.keepExistingData??!1});try{t?.position!==void 0&&await i.seek(t.position),await q(i,e),await i.close()}catch(a){throw await i.abort(),a}}catch(i){throw o(i,this.#e.name)}}async append(e){try{const t=await this.#e.createWritable({keepExistingData:!0});try{const i=await this.#e.getFile();await t.seek(i.size),await q(t,e),await t.close()}catch(i){throw await t.abort(),i}}catch(t){throw o(t,this.#e.name)}}async truncate(e){try{const t=await this.#e.createWritable({keepExistingData:!0});try{await t.truncate(e),await t.close()}catch(i){throw await t.abort(),i}}catch(t){throw o(t,this.#e.name)}}async openWritable(){try{const e=await this.#e.createWritable();return new J(e)}catch(e){throw o(e,this.#e.name)}}async hasReadPermission(){try{return await this.#e.queryPermission({mode:"read"})==="granted"}catch{return!0}}async hasWritePermission(){try{return await this.#e.queryPermission({mode:"readwrite"})==="granted"}catch{return!0}}async requestWritePermission(){try{return await this.#e.requestPermission({mode:"readwrite"})==="granted"}catch(e){if(e instanceof TypeError)return!0;throw new B("Permission request failed",this.#e.name)}}async isSameEntry(e){try{return this.#e.isSameEntry(e.native)}catch(t){throw o(t,this.#e.name)}}};class F{#e;constructor(e){this.#e=e}get native(){return this.#e}getName(){return this.#e.name}async getFile(e){try{const t=await this.#e.getFileHandle(e);return new k(t)}catch(t){if(t instanceof DOMException&&t.name==="NotFoundError"||t instanceof DOMException&&t.name==="TypeMismatchError")return;throw o(t,e)}}async resolveFile(e){try{const t=await this.#e.getFileHandle(e);return new k(t)}catch(t){throw t instanceof DOMException&&t.name==="NotFoundError"?new S(e):o(t,e)}}async createFile(e){try{const t=await this.#e.getFileHandle(e,{create:!0});return new k(t)}catch(t){throw o(t,e)}}async hasFile(e){try{return await this.#e.getFileHandle(e),!0}catch(t){if(t instanceof DOMException&&t.name==="NotFoundError"||t instanceof DOMException&&t.name==="TypeMismatchError")return!1;throw o(t,e)}}async removeFile(e){try{await this.#e.getFileHandle(e),await this.#e.removeEntry(e)}catch(t){throw t instanceof DOMException&&t.name==="NotFoundError"?new S(e):t instanceof DOMException&&t.name==="TypeMismatchError"?new L("file",e):o(t,e)}}async getDirectory(e){try{const t=await this.#e.getDirectoryHandle(e);return new F(t)}catch(t){if(t instanceof DOMException&&t.name==="NotFoundError"||t instanceof DOMException&&t.name==="TypeMismatchError")return;throw o(t,e)}}async resolveDirectory(e){try{const t=await this.#e.getDirectoryHandle(e);return new F(t)}catch(t){throw t instanceof DOMException&&t.name==="NotFoundError"?new S(e):o(t,e)}}async createDirectory(e){try{const t=await this.#e.getDirectoryHandle(e,{create:!0});return new F(t)}catch(t){throw o(t,e)}}async hasDirectory(e){try{return await this.#e.getDirectoryHandle(e),!0}catch(t){if(t instanceof DOMException&&t.name==="NotFoundError"||t instanceof DOMException&&t.name==="TypeMismatchError")return!1;throw o(t,e)}}async removeDirectory(e,t){try{await this.#e.getDirectoryHandle(e),await this.#e.removeEntry(e,{recursive:t?.recursive??!1})}catch(i){throw i instanceof DOMException&&i.name==="NotFoundError"?new S(e):i instanceof DOMException&&i.name==="TypeMismatchError"?new L("directory",e):o(i,e)}}async resolvePath(...e){if(e.length===0)return this;try{let t=this.#e;for(let i=0;i<e.length;i++){const a=e[i];if(a===void 0)continue;if(t.kind!=="directory")return;const n=t;if(i===e.length-1)try{const l=await n.getFileHandle(a);return new k(l)}catch{try{const l=await n.getDirectoryHandle(a);return new F(l)}catch{return}}else try{t=await n.getDirectoryHandle(a)}catch{return}}return}catch{return}}async createPath(...e){if(e.length===0)return this;try{let t=this.#e;for(const i of e)i!==void 0&&(t=await t.getDirectoryHandle(i,{create:!0}));return new F(t)}catch(t){throw o(t,e.join("/"))}}async*entries(){try{for await(const[e,t]of this.#e.entries())yield{name:e,kind:t.kind,handle:t}}catch(e){throw o(e,this.#e.name)}}async*files(){for await(const e of this.entries())e.kind==="file"&&(yield new k(e.handle))}async*directories(){for await(const e of this.entries())e.kind==="directory"&&(yield new F(e.handle))}async list(){const e=[];for await(const t of this.entries())e.push(t);return e}async listFiles(){const e=[];for await(const t of this.files())e.push(t);return e}async listDirectories(){const e=[];for await(const t of this.directories())e.push(t);return e}async*walk(e){const t=e?.maxDepth??1/0,i=e?.includeFiles??!0,a=e?.includeDirectories??!0,n=e?.filter;yield*this.#t([],0,t,i,a,n)}async*#t(e,t,i,a,n,c){if(!(t>i))for await(const l of this.entries()){if(c!==void 0&&!c(l,t))continue;(l.kind==="file"&&a||l.kind==="directory"&&n)&&(yield{path:e,entry:l,depth:t}),l.kind==="directory"&&t<i&&(yield*new F(l.handle).#t([...e,l.name],t+1,i,a,n,c))}}async hasReadPermission(){try{return await this.#e.queryPermission({mode:"read"})==="granted"}catch{return!0}}async hasWritePermission(){try{return await this.#e.queryPermission({mode:"readwrite"})==="granted"}catch{return!0}}async requestWritePermission(){try{return await this.#e.requestPermission({mode:"readwrite"})==="granted"}catch{return!0}}async isSameEntry(e){try{return this.#e.isSameEntry(e.native)}catch(t){throw o(t,this.#e.name)}}async resolve(e){try{return this.#e.resolve(e.native)}catch(t){throw o(t,this.#e.name)}}}class N{#e;#t=null;constructor(e){this.#e=e}get native(){if(!this.#t)throw new E("File API sources do not have native handles");return this.#t}getName(){return this.#e.name}getMetadata(){return Promise.resolve({name:this.#e.name,size:this.#e.size,type:this.#e.type,lastModified:this.#e.lastModified})}getText(){return this.#e.text()}getArrayBuffer(){return this.#e.arrayBuffer()}getBlob(){return Promise.resolve(this.#e)}getStream(){return this.#e.stream()}write(){return Promise.reject(new E("Cannot write to File API sources"))}append(){return Promise.reject(new E("Cannot write to File API sources"))}truncate(){return Promise.reject(new E("Cannot write to File API sources"))}openWritable(){return Promise.reject(new E("Cannot write to File API sources"))}hasReadPermission(){return Promise.resolve(!0)}hasWritePermission(){return Promise.resolve(!1)}requestWritePermission(){return Promise.resolve(!1)}isSameEntry(e){return e instanceof N?Promise.resolve(this.#e===e.#e):Promise.resolve(!1)}}class ee{async getRoot(){try{const e=await navigator.storage.getDirectory();return new F(e)}catch(e){throw o(e)}}async getQuota(){try{const e=await navigator.storage.estimate(),t=e.usage??0,i=e.quota??0,a=i-t,n=i>0?t/i*100:0;return{usage:t,quota:i,available:a,percentUsed:n}}catch(e){throw o(e)}}isUserAccessSupported(){return typeof window<"u"&&typeof window.showOpenFilePicker=="function"}async showOpenFilePicker(e){if(!this.isUserAccessSupported())throw new E("File pickers are not supported in this browser");try{const t=e?{multiple:e.multiple,excludeAcceptAllOption:e.excludeAcceptAllOption,id:e.id,startIn:e.startIn,types:e.types?e.types.map(a=>({...a})):void 0}:void 0;return(await window.showOpenFilePicker(t)).map(a=>new k(a))}catch(t){throw t instanceof DOMException&&t.name==="AbortError"?new P("User cancelled file picker"):o(t)}}async showSaveFilePicker(e){if(!this.isUserAccessSupported())throw new E("File pickers are not supported in this browser");try{const t=e?{suggestedName:e.suggestedName,excludeAcceptAllOption:e.excludeAcceptAllOption,id:e.id,startIn:e.startIn,types:e.types?e.types.map(a=>({...a})):void 0}:void 0,i=await window.showSaveFilePicker(t);return new k(i)}catch(t){throw t instanceof DOMException&&t.name==="AbortError"?new P("User cancelled file picker"):o(t)}}async showDirectoryPicker(e){if(!this.isUserAccessSupported())throw new E("Directory picker is not supported in this browser");try{const t=await window.showDirectoryPicker(e);return new F(t)}catch(t){throw t instanceof DOMException&&t.name==="AbortError"?new P("User cancelled directory picker"):o(t)}}async fromDataTransferItem(e){if("getAsFileSystemHandle"in e&&typeof e.getAsFileSystemHandle=="function")try{const i=await e.getAsFileSystemHandle();return i?i.kind==="file"?new k(i):new F(i):null}catch{}const t=e.webkitGetAsEntry?.();if(!t){const i=e.getAsFile();return i?new N(i):null}return t.isFile?new Promise(i=>{t.file(a=>i(new N(a)),()=>i(null))}):(t.isDirectory,null)}async fromDataTransferItems(e){const t=[],i=Array.from({length:e.length},(a,n)=>e[n]);for(const a of i)if(a?.kind==="file"){const n=await this.fromDataTransferItem(a);n&&t.push(n)}return t}fromFile(e){return Promise.resolve(new N(e))}fromFiles(e){const t=Array.from({length:e.length},(a,n)=>e[n]),i=[];for(const a of t)a&&i.push(new N(a));return Promise.resolve(i)}}function te(){return R()?Promise.resolve(new ee):Promise.reject(new E("Origin Private File System is not supported in this browser"))}const U={NOT_FOUND:"The requested file or directory was not found",NOT_ALLOWED:"Permission denied for this operation",TYPE_MISMATCH:"Expected file but got directory, or vice versa",NO_MODIFICATION_ALLOWED:"The file or directory cannot be modified",INVALID_STATE:"The file system is in an invalid state",QUOTA_EXCEEDED:"Storage quota has been exceeded",ABORT:"The operation was aborted",SECURITY:"A security error occurred",ENCODING:"An encoding error occurred",NOT_SUPPORTED:"This feature is not supported in this browser"};let h,s,C="opfs";const I=[],j=[{id:"opfs",emoji:"üíæ",label:"OPFS Storage",description:"Origin Private File System - sandboxed storage for web apps"},{id:"directories",emoji:"üìÅ",label:"Directories",description:"Create nested directories, list contents, recursive walk"},{id:"files",emoji:"üìÑ",label:"File Operations",description:"Read/write text, binary, blob, stream formats"},{id:"streams",emoji:"üîÑ",label:"Writable Streams",description:"Streaming writes with seek, truncate, abort"},{id:"pickers",emoji:"üìÇ",label:"File Pickers",description:"Native file dialogs (Chromium only)"},{id:"dragdrop",emoji:"üéØ",label:"Drag & Drop",description:"Drop files and folders"},{id:"errors",emoji:"‚ö†Ô∏è",label:"Error Handling",description:"Typed error classes and type guards"}];function re(r){switch(r){case"opfs":return[{id:"quota",title:"getQuota() - Storage Information",description:"Check storage usage and available space",run:ie},{id:"create-file",title:"createFile() - Create File",description:"Create a new file in OPFS",run:ae},{id:"read-file",title:"getText() - Read File",description:"Read file content as text",run:ne},{id:"write-file",title:"write() - Write File",description:"Write content to file (atomic)",run:se},{id:"delete-file",title:"removeFile() - Delete File",description:"Remove a file from storage",run:oe},{id:"native-access",title:".native - Native Access",description:"Access underlying FileSystemHandle",run:ce}];case"directories":return[{id:"create-dir",title:"createDirectory() - Create Directory",description:"Create a single directory",run:le},{id:"create-path",title:"createPath() - Nested Directories",description:"Create nested directories like mkdir -p",run:de},{id:"list-entries",title:"list() - List Contents",description:"List all files and directories",run:ue},{id:"iterate",title:"entries() - Async Iteration",description:"Memory-efficient directory iteration",run:fe},{id:"walk",title:"walk() - Recursive Walk",description:"Recursively walk directory tree",run:pe},{id:"walk-filter",title:"walk() with Filter",description:"Walk with depth limit and filter",run:me}];case"files":return[{id:"read-text",title:"getText() - Read as Text",description:"Read file content as string",run:we},{id:"read-binary",title:"getArrayBuffer() - Read as Binary",description:"Read file as ArrayBuffer",run:he},{id:"read-blob",title:"getBlob() - Read as Blob",description:"Read file as Blob object",run:ye},{id:"read-stream",title:"getStream() - Read as Stream",description:"Stream file content in chunks",run:ge},{id:"write-position",title:"write() with Position",description:"Write at specific byte position",run:ve},{id:"append",title:"append() - Append Data",description:"Append content to end of file",run:be},{id:"truncate",title:"truncate() - Resize File",description:"Truncate file to specific size",run:Fe},{id:"metadata",title:"getMetadata() - File Info",description:"Get file name, size, type, modified date",run:Ee}];case"streams":return[{id:"stream-write",title:"openWritable() - Stream Write",description:"Open writable stream for file",run:xe},{id:"stream-seek",title:"seek() - Move Cursor",description:"Seek to position in stream",run:ke},{id:"stream-truncate",title:"truncate() - Resize",description:"Truncate file via stream",run:Se},{id:"stream-abort",title:"abort() - Discard Changes",description:"Abort stream and discard changes",run:De}];case"pickers":return[{id:"feature-check",title:"isUserAccessSupported()",description:"Check if pickers are available",run:Ae},{id:"open-picker",title:"showOpenFilePicker()",description:"Open file picker dialog",run:Te},{id:"save-picker",title:"showSaveFilePicker()",description:"Save file picker dialog",run:Ne},{id:"dir-picker",title:"showDirectoryPicker()",description:"Directory picker dialog",run:Oe}];case"dragdrop":return[{id:"file-input",title:"fromFile() - File Input",description:"Convert File API to FileInterface",run:Pe},{id:"file-list",title:"fromFiles() - FileList",description:"Convert FileList to FileInterface[]",run:Ce}];case"errors":return[{id:"not-found",title:"NotFoundError",description:"Thrown when file/directory not found",run:$e},{id:"type-guards",title:"Type Guards",description:"Safe error type checking",run:Me},{id:"error-codes",title:"Error Codes",description:"All error code enumeration",run:Le}]}}async function ie(){const r=await h.getQuota();return{success:!0,message:`Storage: ${D(r.usage)} used of ${D(r.quota)} (${r.percentUsed.toFixed(1)}% used)`,data:r,code:"const quota = await fs.getQuota()\nconsole.log(`Used: ${quota.usage} bytes`)\nconsole.log(`Quota: ${quota.quota} bytes`)\nconsole.log(`Available: ${quota.available} bytes`)\nconsole.log(`Percent: ${quota.percentUsed.toFixed(1)}%`)"}}async function ae(){const r=await s.createFile("demo-file.txt");return await r.write("Hello, OPFS!"),{success:!0,message:`Created file: ${r.getName()}`,data:{name:r.getName(),content:await r.getText()},code:`const file = await root.createFile('demo-file.txt')
await file.write('Hello, OPFS!')`}}async function ne(){const r=await s.getFile("demo-file.txt");if(!r)return{success:!1,message:'File not found. Run "Create File" first.'};const e=await r.getText();return{success:!0,message:`Read ${e.length} characters from file`,data:{name:r.getName(),content:e},code:`const file = await root.getFile('demo-file.txt')
if (file) {
    const content = await file.getText()
    console.log(content)
}`}}async function se(){const r=await s.createFile("demo-file.txt"),e=`Updated at ${new Date().toISOString()}`;return await r.write(e),{success:!0,message:"File written successfully (atomic write)",data:{name:r.getName(),content:await r.getText()},code:`const file = await root.createFile('demo-file.txt')
await file.write('New content')
// Write is atomic - content is written to temp file and swapped`}}async function oe(){return await s.hasFile("demo-file.txt")?(await s.removeFile("demo-file.txt"),{success:!0,message:"File deleted successfully",code:"await root.removeFile('demo-file.txt')"}):{success:!1,message:'File not found. Run "Create File" first.'}}async function ce(){const r=await s.createFile("native-demo.txt");await r.write("Native access demo");const e=r.native,t=await e.getFile();return await s.removeFile("native-demo.txt"),{success:!0,message:"Accessed native FileSystemFileHandle",data:{handleKind:e.kind,handleName:e.name,nativeFileName:t.name,nativeFileSize:t.size},code:`const nativeHandle = file.native
// nativeHandle is FileSystemFileHandle
const nativeFile = await nativeHandle.getFile()
console.log(nativeFile.name, nativeFile.size)`}}async function le(){const r=await s.createDirectory("demo-folder");return{success:!0,message:`Created directory: ${r.getName()}`,data:{name:r.getName()},code:"const dir = await root.createDirectory('demo-folder')"}}async function de(){return{success:!0,message:"Created nested directories: data/cache/images",data:{path:"data/cache/images",finalDir:(await s.createPath("data","cache","images")).getName()},code:`// Like mkdir -p
const deep = await root.createPath('data', 'cache', 'images')
// Creates all intermediate directories`}}async function ue(){await s.createFile("list-demo-1.txt"),await s.createFile("list-demo-2.txt"),await s.createDirectory("list-demo-folder");const r=await s.list(),e=r.map(t=>`${t.kind}: ${t.name}`);return await s.removeFile("list-demo-1.txt"),await s.removeFile("list-demo-2.txt"),await s.removeDirectory("list-demo-folder"),{success:!0,message:`Found ${r.length} entries`,data:e,code:"const entries = await directory.list()\nfor (const entry of entries) {\n    console.log(`${entry.kind}: ${entry.name}`)\n}"}}async function fe(){await s.createFile("iter-1.txt"),await s.createFile("iter-2.txt"),await s.createDirectory("iter-folder");const r=[];for await(const e of s.entries())if(r.push(`${e.kind}: ${e.name}`),r.length>=5)break;return await s.removeFile("iter-1.txt"),await s.removeFile("iter-2.txt"),await s.removeDirectory("iter-folder"),{success:!0,message:`Iterated ${r.length} entries (with early break support)`,data:r,code:`// Memory-efficient async iteration
for await (const entry of directory.entries()) {
    console.log(entry.name)
    if (shouldStop) break // Early break supported
}`}}async function pe(){const r=await s.createDirectory("walk-demo");await r.createFile("file1.txt"),await(await r.createDirectory("subdir")).createFile("file2.txt");const t=[];for await(const{path:i,entry:a,depth:n}of r.walk()){const c=[...i,a.name].join("/");t.push(`${"  ".repeat(n)}${a.kind}: ${c}`)}return await s.removeDirectory("walk-demo",{recursive:!0}),{success:!0,message:`Walked ${t.length} entries recursively`,data:t,code:"for await (const { path, entry, depth } of directory.walk()) {\n    const fullPath = [...path, entry.name].join('/')\n    console.log(`${'  '.repeat(depth)}${entry.kind}: ${fullPath}`)\n}"}}async function me(){const r=await s.createDirectory("walk-filter-demo");await r.createFile("visible.txt"),await r.createFile(".hidden");const e=await r.createDirectory("visible-folder");await e.createFile("deep.txt"),await(await e.createDirectory("deeper")).createFile("too-deep.txt");const i=[];for await(const{entry:a}of r.walk({maxDepth:2,includeFiles:!0,includeDirectories:!0,filter:n=>!n.name.startsWith(".")}))i.push(`${a.kind}: ${a.name}`);return await s.removeDirectory("walk-filter-demo",{recursive:!0}),{success:!0,message:`Walked ${i.length} entries with maxDepth=2 and hidden file filter`,data:i,code:`for await (const { entry } of directory.walk({
    maxDepth: 2,
    includeFiles: true,
    includeDirectories: true,
    filter: (e) => !e.name.startsWith('.')
})) {
    console.log(entry.name)
}`}}async function we(){const r=await s.createFile("text-demo.txt");await r.write("Hello, World! üåç");const e=await r.getText();return await s.removeFile("text-demo.txt"),{success:!0,message:`Read text: "${e}"`,data:{text:e,length:e.length},code:"const text = await file.getText()"}}async function he(){const r=await s.createFile("binary-demo.bin");await r.write(new Uint8Array([72,101,108,108,111]));const e=await r.getArrayBuffer(),t=new Uint8Array(e);return await s.removeFile("binary-demo.bin"),{success:!0,message:`Read ${e.byteLength} bytes as ArrayBuffer`,data:{byteLength:e.byteLength,bytes:Array.from(t)},code:`const buffer = await file.getArrayBuffer()
const view = new Uint8Array(buffer)`}}async function ye(){const r=await s.createFile("blob-demo.txt");await r.write("Blob content");const e=await r.getBlob();return await s.removeFile("blob-demo.txt"),{success:!0,message:`Read as Blob: ${e.size} bytes, type: ${e.type||"unknown"}`,data:{size:e.size,type:e.type},code:`const blob = await file.getBlob()
console.log(blob.size, blob.type)`}}async function ge(){const r="Stream content: chunk by chunk processing",e=await s.createFile("stream-demo.txt");await e.write(r);const i=e.getStream().getReader();let a=0,n=0;for(;;){const{done:c,value:l}=await i.read();if(c)break;a+=l.length,n++}return await s.removeFile("stream-demo.txt"),{success:!0,message:`Streamed ${a} bytes in ${n} chunk(s)`,data:{totalBytes:a,chunks:n},code:`const stream = file.getStream()
const reader = stream.getReader()
while (true) {
    const { done, value } = await reader.read()
    if (done) break
    processChunk(value)
}`}}async function ve(){const r=await s.createFile("position-demo.txt");await r.write("Hello, World!"),await r.write("XXXXX",{position:7,keepExistingData:!0});const e=await r.getText();return await s.removeFile("position-demo.txt"),{success:!0,message:`Wrote at position 7: "${e}"`,data:{before:"Hello, World!",after:e},code:`await file.write('Hello, World!')
await file.write('XXXXX', { position: 7, keepExistingData: true })
// Result: "Hello, XXXXX!"`}}async function be(){const r=await s.createFile("append-demo.txt");await r.write("Line 1"),await r.append(`
Line 2`),await r.append(`
Line 3`);const e=await r.getText();return await s.removeFile("append-demo.txt"),{success:!0,message:"Appended 2 lines to file",data:{content:e,lines:e.split(`
`)},code:`await file.write('Line 1')
await file.append('\\nLine 2')
await file.append('\\nLine 3')`}}async function Fe(){const r=await s.createFile("truncate-demo.txt");await r.write("This is a long string that will be truncated");const e=await r.getText();await r.truncate(10);const t=await r.getText();return await s.removeFile("truncate-demo.txt"),{success:!0,message:`Truncated from ${e.length} to ${t.length} bytes`,data:{before:e,after:t},code:`await file.write('Long content...')
await file.truncate(10) // File is now 10 bytes`}}async function Ee(){const r=await s.createFile("metadata-demo.txt");await r.write("Metadata demo content");const e=await r.getMetadata();return await s.removeFile("metadata-demo.txt"),{success:!0,message:`File: ${e.name}, Size: ${D(e.size)}`,data:{name:e.name,size:e.size,type:e.type,lastModified:new Date(e.lastModified).toISOString()},code:`const metadata = await file.getMetadata()
console.log(metadata.name)         // 'document.txt'
console.log(metadata.size)         // 1024
console.log(metadata.type)         // 'text/plain'
console.log(metadata.lastModified) // timestamp`}}async function xe(){const r=await s.createFile("writable-demo.txt"),e=await r.openWritable();await e.write("First chunk"),await e.write(" | "),await e.write("Second chunk"),await e.close();const t=await r.getText();return await s.removeFile("writable-demo.txt"),{success:!0,message:`Wrote via stream: "${t}"`,data:{content:t},code:`const writable = await file.openWritable()
await writable.write('First chunk')
await writable.write(' | ')
await writable.write('Second chunk')
await writable.close() // Commit changes`}}async function ke(){const r=await s.createFile("seek-demo.txt"),e=await r.openWritable();await e.write("AAAAAAAAAA"),await e.seek(5),await e.write("BBBBB"),await e.close();const t=await r.getText();return await s.removeFile("seek-demo.txt"),{success:!0,message:`Seek and overwrite: "${t}"`,data:{content:t},code:`const writable = await file.openWritable()
await writable.write('AAAAAAAAAA')
await writable.seek(5)
await writable.write('BBBBB')
await writable.close()
// Result: "AAAAABBBBB"`}}async function Se(){const r=await s.createFile("stream-truncate-demo.txt"),e=await r.openWritable();await e.write("This content will be partially truncated"),await e.truncate(12),await e.close();const t=await r.getText();return await s.removeFile("stream-truncate-demo.txt"),{success:!0,message:`Truncated via stream: "${t}"`,data:{content:t,length:t.length},code:`const writable = await file.openWritable()
await writable.write('Long content here')
await writable.truncate(12)
await writable.close()`}}async function De(){const r=await s.createFile("abort-demo.txt");await r.write("Original content");const e=await r.openWritable();await e.write("This will be discarded"),await e.abort();const t=await r.getText();return await s.removeFile("abort-demo.txt"),{success:!0,message:`Aborted stream - original preserved: "${t}"`,data:{content:t},code:`await file.write('Original content')
const writable = await file.openWritable()
await writable.write('This will be discarded')
await writable.abort() // Discard changes
// File still contains 'Original content'`}}function Ae(){const r=h.isUserAccessSupported();return{success:!0,message:r?"File pickers ARE supported in this browser":"File pickers NOT supported (use fallbacks)",data:{supported:r,browser:navigator.userAgent.includes("Chrome")?"Chromium":"Other"},code:`if (fs.isUserAccessSupported()) {
    // Safe to use showOpenFilePicker, showSaveFilePicker, showDirectoryPicker
    const files = await fs.showOpenFilePicker()
} else {
    // Fall back to <input type="file"> or drag-drop
}`}}async function Te(){if(!h.isUserAccessSupported())return{success:!1,message:"File pickers not supported in this browser. Use Chrome, Edge, or Opera.",code:`// Fallback for unsupported browsers
const input = document.createElement('input')
input.type = 'file'
input.onchange = () => console.log(input.files)
input.click()`};try{const r=await h.showOpenFilePicker({multiple:!0,types:[{description:"Text Files",accept:{"text/*":[".txt",".md",".json"]}}]}),e=await Promise.all(r.map(async t=>({name:t.getName(),size:(await t.getMetadata()).size})));return{success:!0,message:`Selected ${r.length} file(s)`,data:e,code:`const files = await fs.showOpenFilePicker({
    multiple: true,
    types: [{
        description: 'Text Files',
        accept: { 'text/*': ['.txt', '.md', '.json'] }
    }]
})`}}catch(r){if(M(r))return{success:!0,message:"User cancelled picker (AbortError)"};throw r}}async function Ne(){if(!h.isUserAccessSupported())return{success:!1,message:"File pickers not supported in this browser.",code:`// Fallback: download blob
const blob = new Blob(['content'], { type: 'text/plain' })
const url = URL.createObjectURL(blob)
const a = document.createElement('a')
a.href = url
a.download = 'file.txt'
a.click()`};try{const r=await h.showSaveFilePicker({suggestedName:"demo-export.txt",types:[{description:"Text Files",accept:{"text/plain":[".txt"]}}]});return await r.write(`Exported at ${new Date().toISOString()}`),{success:!0,message:`Saved file: ${r.getName()}`,data:{name:r.getName()},code:`const file = await fs.showSaveFilePicker({
    suggestedName: 'document.txt',
    types: [{ accept: { 'text/plain': ['.txt'] } }]
})
await file.write('Content to save')`}}catch(r){if(M(r))return{success:!0,message:"User cancelled picker (AbortError)"};throw r}}async function Oe(){if(!h.isUserAccessSupported())return{success:!1,message:"Directory picker not supported in this browser."};try{const r=await h.showDirectoryPicker({mode:"read"}),e=await r.list();return{success:!0,message:`Selected directory: ${r.getName()} (${e.length} entries)`,data:{name:r.getName(),entryCount:e.length,entries:e.slice(0,5).map(t=>`${t.kind}: ${t.name}`)},code:`const dir = await fs.showDirectoryPicker({ mode: 'read' })
for await (const entry of dir.entries()) {
    console.log(entry.name)
}`}}catch(r){if(M(r))return{success:!0,message:"User cancelled picker (AbortError)"};throw r}}async function Pe(){const r=new File(["Demo file content"],"demo.txt",{type:"text/plain"}),e=await h.fromFile(r),t=await e.getText();return{success:!0,message:`Converted File to FileInterface: ${e.getName()}`,data:{name:e.getName(),content:t},code:`// From file input or drag-drop
const nativeFile = input.files[0]
const file = await fs.fromFile(nativeFile)
const content = await file.getText()
// Note: fromFile creates read-only wrapper`}}async function Ce(){const r=new DataTransfer;r.items.add(new File(["Content 1"],"file1.txt",{type:"text/plain"})),r.items.add(new File(["Content 2"],"file2.txt",{type:"text/plain"}));const e=r.files,t=await h.fromFiles(e);return{success:!0,message:`Converted ${t.length} files from FileList`,data:t.map(i=>i.getName()),code:`// From <input type="file" multiple>
const files = await fs.fromFiles(input.files)
for (const file of files) {
    console.log(file.getName())
}`}}async function $e(){try{return await s.resolveFile("non-existent-file-12345.txt"),{success:!1,message:"Expected NotFoundError"}}catch(r){if(r instanceof S)return{success:!0,message:`Caught NotFoundError: ${r.message}`,data:{code:r.code,path:r.path},code:`try {
    await directory.resolveFile('missing.txt')
} catch (error) {
    if (error instanceof NotFoundError) {
        console.log(\`File not found: \${error.path}\`)
        console.log(\`Error code: \${error.code}\`)
    }
}`};throw r}}async function Me(){try{await s.resolveFile("non-existent-file.txt")}catch(r){return{success:!0,message:"Type guards provide safe error checking",data:{isNotFoundError:Z(r),isNotAllowedError:K(r),isQuotaExceededError:V(r),isAbortError:M(r)},code:`import { isNotFoundError, isNotAllowedError } from '@mikesaintsg/filesystem'

try {
    await directory.resolveFile('file.txt')
} catch (error) {
    if (isNotFoundError(error)) {
        // error is typed as NotFoundError
        console.log(error.path)
    } else if (isNotAllowedError(error)) {
        // error is typed as NotAllowedError
    }
}`}}return{success:!1,message:"Expected error"}}function Le(){return{success:!0,message:`${Object.keys(U).length} error codes available`,data:U,code:`import { ERROR_MESSAGES } from '@mikesaintsg/filesystem'

// Available error codes:
// NOT_FOUND, NOT_ALLOWED, TYPE_MISMATCH,
// NO_MODIFICATION_ALLOWED, INVALID_STATE,
// QUOTA_EXCEEDED, ABORT, SECURITY,
// ENCODING, NOT_SUPPORTED`}}function Re(){return{html:`
			<div class="demo-app opfs-demo">
				<h4>üì¶ OPFS File Manager</h4>
				<p class="demo-desc">Create, edit, and manage files in your browser's private storage</p>

				<div class="demo-form">
					<input type="text" id="filename-input" class="demo-input" placeholder="Filename (e.g., notes.txt)" value="notes.txt">
					<button id="create-btn" class="btn primary">Create File</button>
				</div>

				<div class="editor-section">
					<textarea id="file-content" class="demo-textarea" placeholder="Select or create a file to edit..."></textarea>
					<div class="editor-actions">
						<button id="save-btn" class="btn primary" disabled>üíæ Save</button>
						<button id="delete-btn" class="btn danger" disabled>üóëÔ∏è Delete</button>
					</div>
				</div>

				<div class="file-list-section">
					<h5>üìÇ Files in OPFS Root</h5>
					<div id="file-list" class="demo-list">
						<p class="placeholder">Loading files...</p>
					</div>
				</div>

				<div class="quota-display">
					<span id="quota-info">Loading quota...</span>
				</div>
			</div>
		`,init:async r=>{const e=r.querySelector("#filename-input"),t=r.querySelector("#create-btn"),i=r.querySelector("#file-content"),a=r.querySelector("#save-btn"),n=r.querySelector("#delete-btn"),c=r.querySelector("#file-list"),l=r.querySelector("#quota-info");if(!e||!t||!i||!a||!n||!c||!l)return;const d=e,f=t,p=i,w=a,m=n,g=c,x=l;let v=null;const A=async()=>{const b=await h.getQuota();x.textContent=`Storage: ${D(b.usage)} / ${D(b.quota)} (${b.percentUsed.toFixed(1)}% used)`},T=async()=>{const b=await s.listFiles();if(b.length===0){g.innerHTML='<p class="placeholder">No files yet. Create one!</p>';return}g.innerHTML="";for(const O of b){const H=await O.getMetadata(),$=document.createElement("div");$.className="list-item",$.innerHTML=`
						<div class="item-info">
							<strong>üìÑ ${O.getName()}</strong>
							<span class="item-meta">${D(H.size)} ¬∑ ${new Date(H.lastModified).toLocaleString()}</span>
						</div>
						<button class="btn small primary select-btn">Open</button>
					`,$.querySelector(".select-btn")?.addEventListener("click",()=>{(async()=>(v=O,d.value=O.getName(),p.value=await O.getText(),w.disabled=!1,m.disabled=!1))()}),g.appendChild($)}};f.addEventListener("click",()=>{(async()=>{const b=d.value.trim();b&&(v=await s.createFile(b),p.value="",w.disabled=!1,m.disabled=!1,await T(),await A())})()}),w.addEventListener("click",()=>{(async()=>v&&(await v.write(p.value),await T(),await A()))()}),m.addEventListener("click",()=>{(async()=>v&&(await s.removeFile(v.getName()),v=null,p.value="",d.value="",w.disabled=!0,m.disabled=!0,await T(),await A()))()}),await T(),await A()}}}function Ie(){return{html:`
			<div class="demo-app directory-demo">
				<h4>üóÇÔ∏è Directory Explorer</h4>
				<p class="demo-desc">Create nested directories and explore the file tree</p>

				<div class="demo-form">
					<input type="text" id="path-input" class="demo-input" placeholder="Path (e.g., projects/webapp/src)" value="projects/webapp/src">
					<button id="create-path-btn" class="btn primary">Create Path</button>
				</div>

				<div class="tree-section">
					<h5>üìÅ Directory Tree</h5>
					<div id="dir-tree" class="demo-tree">
						<p class="placeholder">Loading...</p>
					</div>
				</div>

				<div class="walk-stats">
					<span id="walk-stats">Directories: 0 | Files: 0</span>
				</div>

				<button id="cleanup-btn" class="btn danger small">üóëÔ∏è Clean Demo Directories</button>
			</div>
		`,init:async r=>{const e=r.querySelector("#path-input"),t=r.querySelector("#create-path-btn"),i=r.querySelector("#dir-tree"),a=r.querySelector("#walk-stats"),n=r.querySelector("#cleanup-btn");if(!e||!t||!i||!a||!n)return;const c=e,l=t,d=i,f=a,p=n,w=async()=>{let m=0,g=0;const x=[];x.push("üìÅ / (OPFS Root)");for await(const{entry:v,depth:A}of s.walk({maxDepth:4})){const T="  ".repeat(A+1),b=v.kind==="file"?"üìÑ":"üìÅ";x.push(`${T}${b} ${v.name}`),v.kind==="file"?g++:m++}x.length===1?d.innerHTML='<p class="placeholder">Empty. Create some directories!</p>':d.innerHTML=`<pre class="tree-view">${x.join(`
`)}</pre>`,f.textContent=`Directories: ${m} | Files: ${g}`};l.addEventListener("click",()=>{(async()=>{const m=c.value.trim();if(!m)return;const g=m.split("/").filter(x=>x);await s.createPath(...g),await w()})()}),p.addEventListener("click",()=>{(async()=>{const m=await s.list();for(const g of m)g.kind==="directory"&&await s.removeDirectory(g.name,{recursive:!0});await w()})()}),await w()}}}function Be(){return{html:`
			<div class="demo-app dragdrop-demo">
				<h4>üéØ Drag & Drop Zone</h4>
				<p class="demo-desc">Drop files or folders here to inspect them</p>

				<div id="drop-zone" class="drop-zone">
					<div class="drop-content">
						<span class="drop-icon">üìÅ</span>
						<p>Drop files or folders here</p>
						<p class="drop-hint">or click to select files</p>
					</div>
					<input type="file" id="file-input" multiple hidden>
				</div>

				<div id="drop-results" class="drop-results">
					<p class="placeholder">Drop something to see results...</p>
				</div>
			</div>
		`,init:r=>{const e=r.querySelector("#drop-zone"),t=r.querySelector("#file-input"),i=r.querySelector("#drop-results");if(!e||!t||!i)return;const a=e,n=t,c=i,l=async d=>{if(d.length===0){c.innerHTML='<p class="placeholder">No files found</p>';return}const f=[];for(const p of d){const w=await p.getMetadata(),m=w.size<1e3?await p.getText():"[Large file]";f.push(`
						<div class="result-item">
							<strong>üìÑ ${p.getName()}</strong>
							<span class="item-meta">${D(w.size)} ¬∑ ${w.type||"unknown type"}</span>
							<pre class="content-preview">${m.slice(0,200)}${m.length>200?"...":""}</pre>
						</div>
					`)}c.innerHTML=f.join("")};a.addEventListener("click",()=>n.click()),a.addEventListener("dragover",d=>{d.preventDefault(),a.classList.add("dragover")}),a.addEventListener("dragleave",()=>{a.classList.remove("dragover")}),a.addEventListener("drop",d=>{d.preventDefault(),a.classList.remove("dragover"),(async()=>{const f=d.dataTransfer?.items;if(!f)return;const p=[];for(const w of f)if(w.kind==="file"){const m=w.getAsFile();m&&p.push(await h.fromFile(m))}await l(p)})()}),n.addEventListener("change",()=>{(async()=>{if(n.files){const d=await h.fromFiles(n.files);await l(d)}})()})}}}function He(r){switch(r){case"opfs":return Re();case"directories":return Ie();case"dragdrop":return Be();default:return}}function u(r,e){const t=document.createElement(r);return e?.className&&(t.className=e.className),e?.textContent&&(t.textContent=e.textContent),e?.id&&(t.id=e.id),t}function We(r){if(r===void 0)return"undefined";if(r===null)return"null";try{return JSON.stringify(r,null,2)}catch{return typeof r=="string"?r:"[Object]"}}function _(){I.forEach(f=>f()),I.length=0;const r=document.getElementById("app");if(!r)return;r.innerHTML="";const e=u("div",{className:"container"}),t=u("header"),i=u("h1",{textContent:"üìÇ File System Showcase"}),a=u("p",{textContent:"Comprehensive demonstration of @mikesaintsg/filesystem features"}),n=u("div",{className:"support-badges"});n.innerHTML=`
		<span class="badge ${R()?"supported":"unsupported"}">
			${R()?"‚úÖ":"‚ùå"} OPFS
		</span>
		<span class="badge ${W()?"supported":"unsupported"}">
			${W()?"‚úÖ":"‚ùå"} File Pickers
		</span>
	`,t.append(i,a,n);const c=u("nav",{className:"tabs"});j.forEach(f=>{const p=u("button",{className:`tab ${C===f.id?"active":""}`,textContent:`${f.emoji} ${f.label}`});p.title=f.description,p.addEventListener("click",()=>{C=f.id,_()}),c.appendChild(p)});const l=u("main",{id:"content"});qe(l);const d=u("footer");d.innerHTML="<p>Zero dependencies ¬∑ Full TypeScript support ¬∑ MIT License</p>",e.append(t,c,l,d),r.appendChild(e)}async function qe(r){const e=j.find(d=>d.id===C);if(!e)return;const t=u("section",{className:"card"}),i=u("h2",{textContent:`${e.emoji} ${e.label}`}),a=u("p",{className:"subtitle",textContent:e.description});t.append(i,a);const n=He(C);if(n){const d=u("div",{className:"interactive-demo-container"});if(d.innerHTML=n.html,t.appendChild(d),n.init)try{await n.init(d)}catch(p){console.error("Demo init error:",p)}n.cleanup&&I.push(n.cleanup);const f=u("div",{className:"demo-separator"});f.innerHTML="<h3>üìö API Reference Examples</h3>",t.appendChild(f)}const c=re(C),l=u("div",{className:"examples-container"});c.forEach(d=>{const f=Ue(d);l.appendChild(f)}),t.appendChild(l),r.appendChild(t)}function Ue(r){const e=u("div",{className:"example-card"}),t=u("div",{className:"example-header"}),i=u("h3",{textContent:r.title}),a=u("p",{className:"example-desc",textContent:r.description});t.append(i,a);const n=u("button",{className:"btn primary",textContent:"‚ñ∂ Run Example"}),c=u("div",{className:"example-result"});return c.style.display="none",n.addEventListener("click",()=>{ze(r,n,c)}),e.append(t,n,c),e}async function ze(r,e,t){e.disabled=!0,e.textContent="‚è≥ Running...",t.style.display="block",t.innerHTML='<p class="loading">Running example...</p>';try{const i=await r.run();t.innerHTML="";const a=i.success?"success":"error",n=i.success?"‚úÖ":"‚ùå",c=u("p",{className:`result-message ${a}`,textContent:`${n} ${i.message}`});if(t.appendChild(c),i.data!==void 0){const l=u("div",{className:"result-data"}),d=u("h4",{textContent:"üìä Result Data"}),f=u("pre"),p=u("code",{textContent:We(i.data)});f.appendChild(p),l.append(d,f),t.appendChild(l)}if(i.code){const l=u("div",{className:"result-code"}),d=u("h4",{textContent:"üíª Code Example"}),f=u("div",{className:"code-block"}),p=u("pre"),w=u("code",{textContent:i.code});p.appendChild(w),f.appendChild(p),l.append(d,f),t.appendChild(l)}}catch(i){t.innerHTML="";const a=u("p",{className:"result-message error",textContent:`‚ùå Error: ${i instanceof Error?i.message:String(i)}`});t.appendChild(a)}finally{e.disabled=!1,e.textContent="‚ñ∂ Run Example"}}async function je(){try{h=await te(),s=await h.getRoot(),_(),console.log("@mikesaintsg/filesystem showcase loaded")}catch(r){console.error("Failed to initialize:",r);const e=document.getElementById("app");e&&(e.innerHTML=`
				<div class="error-container">
					<h2>‚ö†Ô∏è Initialization Error</h2>
					<p>Failed to initialize File System. This might happen in private browsing mode.</p>
					<p class="error-detail">${r instanceof Error?r.message:"Unknown error"}</p>
					<button onclick="window.location.reload()">üîÑ Retry</button>
				</div>
			`)}}je();</script>
  <style rel="stylesheet" crossorigin>*{box-sizing:border-box;margin:0;padding:0}:root{--primary: #3b82f6;--primary-hover: #2563eb;--danger: #dc2626;--danger-hover: #b91c1c;--warning: #f59e0b;--success: #10b981;--secondary: #6b7280;--secondary-hover: #4b5563;--bg: #f3f4f6;--card-bg: #ffffff;--text: #1f2937;--text-muted: #6b7280;--border: #e5e7eb;--radius: 8px;--shadow: 0 1px 3px rgba(0, 0, 0, .1);--shadow-lg: 0 4px 6px -1px rgba(0, 0, 0, .1)}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,sans-serif;background:var(--bg);color:var(--text);line-height:1.5;min-height:100vh}.container{max-width:900px;margin:0 auto;padding:20px}header{text-align:center;margin-bottom:24px}header h1{font-size:2rem;margin-bottom:8px;color:var(--primary)}header p{color:var(--text-muted);margin-bottom:12px}.support-badges{display:flex;justify-content:center;gap:12px;flex-wrap:wrap}.badge{padding:6px 12px;border-radius:20px;font-size:.85rem;font-weight:500}.badge.supported{background:#d1fae5;color:#065f46}.badge.unsupported{background:#fee2e2;color:#991b1b}footer{text-align:center;margin-top:32px;padding:16px;color:var(--text-muted);font-size:.875rem;border-top:1px solid var(--border)}.tabs{display:flex;gap:8px;margin-bottom:20px;flex-wrap:wrap}.tab{padding:10px 16px;border:none;background:var(--card-bg);border-radius:var(--radius);cursor:pointer;font-size:.9rem;font-weight:500;transition:all .2s;box-shadow:var(--shadow)}.tab:hover{background:var(--border)}.tab.active{background:var(--primary);color:#fff}.card{background:var(--card-bg);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow-lg)}.card h2{margin-bottom:4px;font-size:1.5rem}.card .subtitle{color:var(--text-muted);margin-bottom:20px;font-size:.875rem}.btn{padding:10px 18px;border:none;border-radius:var(--radius);font-size:.95rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.btn.small{padding:6px 12px;font-size:.85rem}.btn.primary{background:var(--primary);color:#fff}.btn.primary:hover{background:var(--primary-hover)}.btn.secondary{background:var(--secondary);color:#fff}.btn.secondary:hover{background:var(--secondary-hover)}.btn.danger{background:var(--danger);color:#fff}.btn.danger:hover{background:var(--danger-hover)}.btn:disabled{opacity:.5;cursor:not-allowed}.interactive-demo-container{margin-bottom:24px}.demo-app{background:#fff;border:2px solid var(--primary);border-radius:var(--radius);padding:20px;margin-bottom:16px}.demo-app h4{font-size:1.1rem;color:var(--primary);margin-bottom:8px}.demo-app .demo-desc{font-size:.85rem;color:var(--text-muted);margin-bottom:16px}.demo-form{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:16px}.demo-input{padding:10px 14px;border:1px solid var(--border);border-radius:var(--radius);font-size:.9rem;flex:1;min-width:150px}.demo-input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.demo-textarea{width:100%;min-height:150px;padding:12px;border:1px solid var(--border);border-radius:var(--radius);font-family:Fira Code,Monaco,Consolas,monospace;font-size:.9rem;resize:vertical;margin-bottom:12px}.demo-textarea:focus{outline:none;border-color:var(--primary)}.editor-section{margin-bottom:20px}.editor-actions{display:flex;gap:8px}.file-list-section h5,.tree-section h5{font-size:.95rem;margin-bottom:12px;color:var(--text)}.demo-list{border:1px solid var(--border);border-radius:var(--radius);max-height:300px;overflow-y:auto}.demo-list .placeholder{padding:24px;text-align:center;color:var(--text-muted);font-style:italic}.list-item{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid var(--border);gap:12px}.list-item:last-child{border-bottom:none}.list-item:hover{background:#f9fafb}.item-info{flex:1;min-width:0}.item-info strong{display:block;font-size:.95rem;margin-bottom:2px}.item-meta{font-size:.8rem;color:var(--text-muted)}.quota-display{margin-top:16px;padding:12px;background:#f8fafc;border-radius:var(--radius);font-size:.85rem;color:var(--text-muted)}.demo-tree{border:1px solid var(--border);border-radius:var(--radius);background:#1e293b;color:#e2e8f0;max-height:300px;overflow:auto}.demo-tree .placeholder{padding:24px;text-align:center;color:#94a3b8}.tree-view{margin:0;padding:16px;font-family:Fira Code,Monaco,Consolas,monospace;font-size:.85rem;line-height:1.8;white-space:pre}.walk-stats{margin-top:12px;font-size:.85rem;color:var(--text-muted)}.drop-zone{border:2px dashed var(--border);border-radius:var(--radius);padding:40px;text-align:center;cursor:pointer;transition:all .2s;margin-bottom:16px}.drop-zone:hover,.drop-zone.dragover{border-color:var(--primary);background:#3b82f60d}.drop-content .drop-icon{font-size:3rem;display:block;margin-bottom:12px}.drop-hint{font-size:.85rem;color:var(--text-muted);margin-top:8px}.drop-results{border:1px solid var(--border);border-radius:var(--radius);max-height:300px;overflow-y:auto}.drop-results .placeholder{padding:24px;text-align:center;color:var(--text-muted)}.result-item{padding:16px;border-bottom:1px solid var(--border)}.result-item:last-child{border-bottom:none}.result-item strong{display:block;margin-bottom:4px}.content-preview{background:#f8fafc;padding:12px;border-radius:var(--radius);font-size:.8rem;margin-top:8px;max-height:100px;overflow:auto;white-space:pre-wrap;word-break:break-all}.demo-separator{margin:24px 0 16px}.demo-separator h3{color:var(--text-muted);font-size:.95rem;font-weight:600}.examples-container{display:flex;flex-direction:column;gap:16px}.example-card{border:1px solid var(--border);border-radius:var(--radius);padding:16px;background:#fafafa}.example-header{margin-bottom:12px}.example-header h3{font-size:1rem;margin-bottom:4px;color:var(--primary)}.example-desc{font-size:.85rem;color:var(--text-muted);margin:0}.example-result{margin-top:16px;padding-top:16px;border-top:1px solid var(--border)}.result-message{font-weight:500;padding:8px 12px;border-radius:var(--radius);margin:0 0 12px}.result-message.success{background:#d4edda;color:#155724}.result-message.error{background:#f8d7da;color:#721c24}.result-data,.result-code{margin-top:12px}.result-data h4,.result-code h4{font-size:.85rem;color:var(--text-muted);margin-bottom:8px}.result-data pre{background:#f1f5f9;padding:12px;border-radius:var(--radius);overflow-x:auto;font-size:.8rem;line-height:1.4;max-height:200px;overflow-y:auto}.result-data code{font-family:Fira Code,Monaco,Consolas,monospace}.code-block{background:#1e293b;color:#e2e8f0;padding:16px;border-radius:var(--radius);overflow-x:auto}.code-block pre{margin:0;font-family:Fira Code,Monaco,Consolas,monospace;font-size:.85rem;line-height:1.6}.error-container{max-width:600px;margin:50px auto;padding:24px;background:#fee2e2;border-radius:var(--radius);text-align:center}.error-container h2{color:var(--danger);margin-bottom:12px}.error-container p{color:#991b1b;margin-bottom:8px}.error-detail{font-size:.85rem;font-family:monospace}.error-container button{margin-top:16px;padding:10px 24px;background:var(--danger);color:#fff;border:none;border-radius:var(--radius);cursor:pointer}.loading{text-align:center;padding:20px;color:var(--text-muted)}.placeholder{text-align:center;padding:20px;color:var(--text-muted);font-style:italic}@media(max-width:600px){.container{padding:12px}header h1{font-size:1.5rem}.tabs{gap:4px}.tab{padding:8px 10px;font-size:.8rem}.demo-form{flex-direction:column}.demo-form .btn{width:100%}.editor-actions{flex-direction:column}.editor-actions .btn{width:100%}}</style>
</head>
<body>
<div id="app"></div>
</body>
</html>
